@inherits PersistentComponent<TeammatesWidgetViewModel>

@inject IBotService BotService

<QuickGrid Items="ViewModel.Teammates.AsQueryable()" class="quick-data-grid">
    <PropertyColumn Property="@(t => t.Name)" Sortable="true" />
    <TemplateColumn>@ViewModel.ExcludeFromTeam</TemplateColumn>
</QuickGrid>

@code {
    [Parameter, EditorRequired]
    public Guid TeamId { get; set; }

    protected override async Task<TeammatesWidgetViewModel> Initialize(Dictionary<string, string> resources)
    {
        var getTeammatesResult = await BotService.GetTeammates(TeamId);

        return new TeammatesWidgetViewModel(
            resources[Messages.Dashboard_ExcludeFromTeam],
            getTeammatesResult.Result.Teammates);
    }
}