@inherits PersistentComponent<NavigationLoginViewModel>

@inject IRenderContext RenderContext

<div class="nav-login">
    <div class="nav-login__container">
        <AuthorizeView>
            <Authorized>
                <a href="/accounts/logout" class="link link_white">@ViewModel.Logout</a>
            </Authorized>
            <NotAuthorized>
                @if (ViewModel.HasLoginAsSuperUser)
                {
                    <a href="/accounts/as-super-user" class="link link_white">@ViewModel.LoginAsSuperuser</a>
                }
            </NotAuthorized>
        </AuthorizeView>
    </div>
</div>

@code {
    protected override Task<NavigationLoginViewModel> Initialize(Dictionary<string, string> resources)
    {
        return Task.FromResult(new NavigationLoginViewModel(
            RenderContext.IsDevelopment(),
            resources[Messages.Navigation_Logout],
            resources[Messages.Navigation_LoginAsSuperuser]));
    }
}