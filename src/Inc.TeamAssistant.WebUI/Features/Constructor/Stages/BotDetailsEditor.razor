<FormFieldSet
    FieldId="@BotNameId"
    Label="@MessageWithLanguage(BotName, BotDetails.LanguageId)">
    <Content>
        @if (IsDisabled)
        {
            <InputText
                @bind-Value="BotDetails.Name"
                class="form-control"
                id="@BotNameId"
                disabled="disabled" />
        }
        else
        {
            <InputText
                @bind-Value="BotDetails.Name"
                class="form-control"
                id="@BotNameId" />
        }
        <ValidationMessage For="@(() => BotDetails.Name)"/>
    </Content>
</FormFieldSet>
<FormFieldSet
    FieldId="@BotShortDescriptionId"
    Label="@MessageWithLanguage(BotShortDescription, BotDetails.LanguageId)">
    <Content>
        @if (IsDisabled)
        {
            <InputText
                @bind-Value="BotDetails.ShortDescription"
                class="form-control"
                id="@BotShortDescriptionId"
                disabled="disabled"/>
        }
        else
        {
            <InputText
                @bind-Value="BotDetails.ShortDescription"
                class="form-control"
                id="@BotShortDescriptionId" />
        }
        <ValidationMessage For="@(() => BotDetails.ShortDescription)"/>
    </Content>
</FormFieldSet>
<FormFieldSet
    FieldId="@BotDescriptionId"
    Label="@MessageWithLanguage(BotDescription, BotDetails.LanguageId)">
    <Content>
        @if (IsDisabled)
        {
            <InputTextArea
                @bind-Value="BotDetails.Description"
                class="form-control form-control_textarea"
                id="@BotDescriptionId"
                disabled="disabled" />
        }
        else
        {
            <InputTextArea
                @bind-Value="BotDetails.Description"
                class="form-control form-control_textarea"
                id="@BotDescriptionId" />
        }
        <ValidationMessage For="@(() => BotDetails.Description)"/>
    </Content>
</FormFieldSet>

@code {
    [Parameter, EditorRequired]
    public BotDetailsFormModel BotDetails { get; set; } = default!;
    
    [Parameter, EditorRequired]
    public string BotName { get; set; } = default!;
    
    [Parameter, EditorRequired]
    public string BotShortDescription { get; set; } = default!;
    
    [Parameter, EditorRequired]
    public string BotDescription { get; set; } = default!;
    
    [Parameter]
    public bool IsDisabled { get; set; }
    
    private string BotNameId => $"bot-name-{BotDetails.LanguageId}";
    private string BotShortDescriptionId => $"bot-short-description-{BotDetails.LanguageId}";
    private string BotDescriptionId => $"bot-description-{BotDetails.LanguageId}";
    
    private string MessageWithLanguage(string message, string languageCode) => $"{message} {languageCode}";
}