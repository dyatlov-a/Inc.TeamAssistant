@attribute [Stories("Features/Dashboard/Settings")]

<Stories TComponent="DashboardSettings" Layout="typeof(StubLayout)">
    <Story Name="With all widgets">
        <Template>
            <DashboardSettings
                BotId="_botId"
                Widgets="WidgetsFactory.CreateAllWidgets()"
                State="LoadingState.Done()"
                @ref="_withAllWidgets"
                OnValidSubmit="_ => _withAllWidgets?.Close()" />
        </Template>
    </Story>
    <Story Name="With Reviewer widgets">
        <Template>
            <DashboardSettings
                BotId="_botId"
                Widgets="WidgetsFactory.CreateReviewerWidgets()"
                State="LoadingState.Done()"
                @ref="_withReviewerWidgets"
                OnValidSubmit="_ => _withReviewerWidgets?.Close()" />
        </Template>
    </Story>
    <Story Name="With Appraiser widgets">
        <Template>
            <DashboardSettings
                BotId="_botId"
                Widgets="WidgetsFactory.CreateAppraiserWidgets()"
                State="LoadingState.Done()"
                @ref="_withAppraiserWidgets"
                OnValidSubmit="_ => _withAppraiserWidgets?.Close()" />
        </Template>
    </Story>
    <Story Name="With RandomCoffee widgets">
        <Template>
            <DashboardSettings
                BotId="_botId"
                Widgets="WidgetsFactory.CreateRandomCoffeeWidgets()"
                State="LoadingState.Done()"
                @ref="_withRandomCoffeeWidgets"
                OnValidSubmit="_ => _withRandomCoffeeWidgets?.Close()" />
        </Template>
    </Story>
    <Story Name="With CheckIn widgets">
        <Template>
            <DashboardSettings
                BotId="_botId"
                Widgets="WidgetsFactory.CreateCheckInWidgets()"
                State="LoadingState.Done()"
                @ref="_withCheckInWidgets"
                OnValidSubmit="_ => _withCheckInWidgets?.Close()" />
        </Template>
    </Story>
    <Story Name="Loading">
        <Template>
            <DashboardSettings
                BotId="_botId"
                Widgets="WidgetsFactory.CreateAllWidgets()"
                State="LoadingState.Loading()"
                @ref="_loading"
                OnValidSubmit="_ => _loading?.Close()" />
        </Template>
    </Story>
    <Story Name="Error">
        <Template>
            <DashboardSettings
                BotId="_botId"
                Widgets="WidgetsFactory.CreateAllWidgets()"
                State="LoadingState.Error()"
                @ref="_error"
                OnValidSubmit="_ => _error?.Close()" />
        </Template>
    </Story>
</Stories>

@code {
    private readonly Guid _botId = Guid.NewGuid();

    private DashboardSettings? _withAllWidgets;
    private DashboardSettings? _withReviewerWidgets;
    private DashboardSettings? _withAppraiserWidgets;
    private DashboardSettings? _withRandomCoffeeWidgets;
    private DashboardSettings? _withCheckInWidgets;
    private DashboardSettings? _loading;
    private DashboardSettings? _error;
}